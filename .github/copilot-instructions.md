# AI 规则库 - Copilot 指导说明

## 项目概述

这是一个采用分层编号体系组织的综合性 IT 开发规则和最佳实践仓库。代码库包含编程语言、框架、数据库和其他开发领域的结构化指导方针。

## 扩展配置说明

本项目采用模块化的 AI 助手配置方式：

- **GitHub Copilot**: 主要使用此文件，可参考 `.github/copilot/` 目录下的专项指导（实验性）
- **Cursor**: 使用 `.cursorrules` 文件（官方支持）
- **其他配置**: 请参考 `.github/AI_CONFIG_GUIDE.md` 了解不同 AI 助手的配置方式## 核心架构模式

### 分层组织体系

- **001-099**: 通用标准和约定
- **100-199**: 编程语言 (101=Python, 102=TypeScript 等)
- **200-299**: 框架和库
  - **201-219**: 前端框架 (React, Next.js, Vue, Astro 等)
  - **220-239**: UI/CSS 框架 (Tailwind CSS, Chakra UI 等)
  - **240-249**: 状态管理 (Redux, Zustand 等)
  - **250-259**: 构建工具 (Vite, Webpack 等)
  - **260-269**: IDE/编辑器扩展 (VSCode 扩展等)
  - **270-289**: 组合规则 (多技术栈组合)
  - **290-299**: 其他框架工具
- **300-399**: 数据库
- **500-599**: API 设计
- **600-699**: 测试
- **700-799**: 安全
- **800-899**: DevOps/CI-CD
- **900-999**: 架构设计
- **1000+**: UI/UX、项目管理、文档

### 文件格式约定 (MDC)

所有规则文件使用 `.mdc` (Markdown with Frontmatter) 格式，包含标准的 frontmatter 和结构化的中文内容。

**Frontmatter 标准字段:**

- `id`: 规则编号 (必填)
- `title`: 规则标题 (必填)
- `description`: 规则描述 (必填)
- `globs`: 适用文件模式数组 (必填)
- `priority`: 优先级 (high/medium/low) - 见下方"优先级规范"
- `tags`: 标签数组
- `version`: 版本号
- `author`: 作者
- `lastUpdated`: 最后更新日期

**优先级规范:**

- **单一规则 (medium)**: 专注于单一技术栈的规则，如纯 TypeScript、纯 Python、纯 React 等
  - 保持规则的单一职责，不混合其他技术栈
  - 例如：TypeScript 规则不应包含 Tailwind CSS 相关内容
  - 单一规则设计为可灵活组合，用户可选择多个单一规则组合使用
- **组合规则 (high)**: 多个技术栈组合使用时的特定规则
  - 用于处理多技术栈协同工作时的特殊场景和最佳实践
  - 例如：TypeScript + Tailwind CSS 组合规则
  - 当与单一规则冲突时，组合规则具有更高优先级
  - 仅在组合场景下的规则与单一规则显著不同时才创建组合规则

**Frontmatter 示例:**

```yaml
# 单一规则 (priority: medium)
id: 101
title: Python 最佳实践
globs: ["**/*.py"]
priority: medium
tags: [python]

# 组合规则 (priority: high)
id: 206
title: TypeScript + React + Tailwind
globs: ["**/*.tsx"]
priority: high
tags: [typescript, react, tailwindcss, combination]
```

### 目录结构模式

- 每个主要类别都有一个 `index.md` 文件列出该类别的所有规则
- 复杂框架(如 VSCode 扩展)拥有包含多个专业规则文件的子目录
- 一致的命名: 目录使用 `{编号}-{描述性名称}/` 格式，规则文件使用 `{编号}-{名称}.mdc` 格式

## 开发工作流程

### 添加新规则

1. 在相应范围内选择合适的类别和编号
2. 创建包含完整 frontmatter 的 `.mdc` 文件
3. 更新该类别的 `index.md` 文件
4. 如果添加新类别，则更新主 `README.md`

### 规则文件结构

**必需章节:** 适用场景、核心内容、关键原则  
**可选章节:** 项目结构、代码示例、工具配置、常见问题、扩展阅读

**内容要求:** 中文描述 + 英文代码/术语 + 具体版本号 + 可操作指导

## 规则文件精简指南

### 核心理念

**规则文件是给 AI 使用的**，假设 AI 已具备通用编程知识，只需要：

1. 项目特定的规范和约定
2. 关键决策点（何时用什么、为什么）
3. 差异化的实践（与通用做法不同的地方）

### 精简原则

**假设 AI 已知的内容（一句话带过或删除）:**

- JSDoc、TSDoc 等文档注释规范
- REST API、HTTP 方法基础概念
- Git 基本命令和工作流
- 通用设计模式和算法
- 标准库和框架的基础 API
- 约定俗成的编码规范

**重点说明的内容（详细展示）:**

- ✅ 项目特定的命名规范和约定
- ✅ 自定义配置和工具链
- ✅ 特殊的错误处理模式
- ✅ 团队约定的代码组织方式
- ✅ 与标准做法不同的实践
- ✅ 关键决策点和权衡

**代码示例精简策略:**

- ✅ 每个关键决策点只保留 1 个示例
- ✅ 只展示差异部分，删除样板代码
- ❌ 不展示 AI 已知的标准用法
- ✅ 注释说明"为什么这样做"而非"这是什么"

**配置文件精简:**

- ✅ 只列出非默认、非标准的配置
- ✅ 说明配置的原因和影响
- ❌ 删除所有默认配置项
- ✅ 大型配置用注释概括

**文档结构:**

- ✅ 列表优于段落
- ✅ 一句话能说清楚不要用一段
- ✅ 合并相似章节
- ❌ 删除"什么是 XX"的介绍性内容

### 精简检查清单

审查每个章节时问自己：

- [ ] AI 是否已经知道这个概念？（如果是，删除或一句话）
- [ ] 这是项目特定的要求吗？（如果是，保留并说明原因）
- [ ] 代码示例是否展示了关键差异？（如果只是标准用法，删除）
- [ ] 配置是否包含默认值？（删除默认配置）
- [ ] 能否用列表代替段落？（能则改）

### 精简后的标准文件结构

```markdown
---
frontmatter (保留完整)
---

# 标题

## 适用场景

简短列表

## 核心内容

1-2 句话概述

## 关键原则

简短列表（✅ 符号 + 一句话）

## 关键决策点 1

- 何时使用
- 为什么这样做
- 1 个核心示例（只展示差异部分）

## 关键决策点 2

...

## 项目特定配置

只列出非标准配置 + 原因

## 常见问题

Q&A 格式，简短

## 扩展阅读

链接列表
```

## 关键约定

### 编号规则

- 主要类别使用 3 位数编号 (101, 201 等)
- 为每个主要部分内的子类别预留编号范围
- 特殊复杂主题可以有专门的子目录 (如 `260-vscode-extension/`)

### 语言和本地化

- 内容主要使用中文 (zh-CN)
- 技术术语和代码示例使用英文
- 文件和目录名使用英文以便国际化兼容

### 内容标准

- 专注于每种技术特有的可发现、可操作的模式
- 包含具体的工具版本和配置示例
- 提供来自实际用例的具体代码样本
- 强调实用的"有效做法"而非理论上的"最佳实践"

## 使用规范

**规则引用:** 语言规则 (100s) → 框架规则 (200s) → 专业领域 (600-900s)  
**工具要求:** 包含版本号和配置示例 (ESLint, Prettier 等)  
**文档风格:** 结构化章节 + 表情符号指示器 (📚🎯✅)  
**维护要求:** 版本日期 + 作者归属 + 更新指南

**AI 使用此代码库时:**

- ✅ 遵循编号系统和 MDC 格式
- ✅ 更新索引文件 (index.md, README.md)
- ✅ 提供项目特定指导,非通用建议
- ✅ 引用具体文件示例说明模式

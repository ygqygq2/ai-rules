#!/bin/sh
# Git pre-commit hook - æäº¤å‰è‡ªåŠ¨æ£€æŸ¥

echo "ğŸ” Running pre-commit checks..."

# 1. è¿è¡Œä»£ç æ ¼å¼åŒ–æ£€æŸ¥
echo "  â”œâ”€ Checking code format..."
npm run lint --quiet || {
  echo "  âŒ Lint failed! Please fix errors before committing."
  exit 1
}

# 2. è¿è¡Œå•å…ƒæµ‹è¯•
echo "  â”œâ”€ Running tests..."
npm test --silent || {
  echo "  âŒ Tests failed! Please fix failing tests."
  exit 1
}

# 3. æ£€æŸ¥æäº¤ä¿¡æ¯æ ¼å¼ï¼ˆå¦‚æœä½¿ç”¨ commitlintï¼‰
# npx commitlint --edit "$1"

echo "  âœ… All checks passed!"
exit 0

---
id: 1309
title: Troubleshooting and Root Cause Analysis
description: é—®é¢˜æŽ’æŸ¥ä¸Žæ ¹å› åˆ†æž - ç³»ç»ŸåŒ–å®šä½å’Œè§£å†³ç”Ÿäº§é—®é¢˜
globs: ['**/*']
priority: high
tags: [troubleshooting, debugging, incident-response, methodology]
version: 1.0.0
author: Turbo AI Rules
lastUpdated: 2026-01-21
---

# é—®é¢˜æŽ’æŸ¥ä¸Žæ ¹å› åˆ†æž

## ä½•æ—¶ä½¿ç”¨æ­¤æŠ€èƒ½

**ç´§æ€¥åœºæ™¯**:
- ç”Ÿäº§çŽ¯å¢ƒæ•…éšœ
- ç”¨æˆ·æŠ¥å‘ŠåŠŸèƒ½ä¸å¯ç”¨
- ç›‘æŽ§æŠ¥è­¦è§¦å‘

**å¸¸è§„åœºæ™¯**:
- Bug è°ƒæŸ¥
- æ€§èƒ½é—®é¢˜å®šä½
- å¼‚å¸¸æ—¥å¿—åˆ†æž

---

## å¿«é€Ÿå“åº”æµç¨‹ï¼ˆç”Ÿäº§æ•…éšœï¼‰

### ç¬¬ä¸€æ­¥ï¼šæ­¢è¡€ï¼ˆ5 åˆ†é’Ÿå†…ï¼‰

**ç›®æ ‡**: æ¢å¤æœåŠ¡ï¼Œéžæ‰¾æ ¹å› 

**å†³ç­–æ ‘**:

```
æœåŠ¡æ˜¯å¦å®Œå…¨ä¸å¯ç”¨ï¼Ÿ
â”œâ”€ æ˜¯ â†’ å›žæ»šæœ€è¿‘éƒ¨ç½² / åˆ‡æ¢å¤‡ç”¨ç³»ç»Ÿ
â””â”€ å¦ â†’ éƒ¨åˆ†åŠŸèƒ½æ•…éšœ
    â”œâ”€ å½±å“ >50% ç”¨æˆ·ï¼Ÿ
    â”‚   â””â”€ æ˜¯ â†’ é™çº§åŠŸèƒ½ / é™æµ
    â””â”€ å¦ â†’ ç»§ç»­æœåŠ¡ï¼Œè®°å½•é—®é¢˜
```

**å¸¸è§æ­¢è¡€æŽªæ–½**:
- ðŸ”„ å›žæ»šä»£ç 
- â¸ï¸ ç¦ç”¨é—®é¢˜åŠŸèƒ½
- ðŸ”€ åˆ‡æ¢æµé‡åˆ°å¤‡ç”¨
- ðŸ“‰ é™æµä¿æŠ¤

---

### ç¬¬äºŒæ­¥ï¼šç¨³å®šï¼ˆ30 åˆ†é’Ÿå†…ï¼‰

**ç›®æ ‡**: ç¡®è®¤æ­¢è¡€æœ‰æ•ˆï¼Œæ”¶é›†ä¿¡æ¯

**æ£€æŸ¥æ¸…å•**:
- [ ] æ ¸å¿ƒæŒ‡æ ‡æ¢å¤æ­£å¸¸ï¼ˆé”™è¯¯çŽ‡ã€å“åº”æ—¶é—´ï¼‰
- [ ] ç”¨æˆ·å¯æ­£å¸¸ä½¿ç”¨
- [ ] æ²¡æœ‰å¼•å…¥æ–°é—®é¢˜
- [ ] è®°å½•äº‹ä»¶æ—¶é—´çº¿

**æ”¶é›†ä¿¡æ¯**:
- é¦–æ¬¡å‘ç”Ÿæ—¶é—´
- å½±å“èŒƒå›´ï¼ˆç”¨æˆ·æ•°ã€åŠŸèƒ½ï¼‰
- æœ€è¿‘å˜æ›´ï¼ˆä»£ç ã€é…ç½®ã€åŸºç¡€è®¾æ–½ï¼‰
- é”™è¯¯æ—¥å¿—æ ·æœ¬

---

### ç¬¬ä¸‰æ­¥ï¼šæ ¹å› åˆ†æžï¼ˆäº‹åŽï¼‰

é‡‡ç”¨ **5 Why åˆ†æžæ³•**ï¼š

**ç¤ºä¾‹**:
```
é—®é¢˜ï¼šç”¨æˆ·ç™»å½•å¤±è´¥

Why 1: ä¸ºä»€ä¹ˆç™»å½•å¤±è´¥ï¼Ÿ
â†’ æ•°æ®åº“è¿žæŽ¥è¶…æ—¶

Why 2: ä¸ºä»€ä¹ˆè¿žæŽ¥è¶…æ—¶ï¼Ÿ
â†’ è¿žæŽ¥æ± è€—å°½

Why 3: ä¸ºä»€ä¹ˆè¿žæŽ¥æ± è€—å°½ï¼Ÿ
â†’ æ…¢æŸ¥è¯¢æœªé‡Šæ”¾è¿žæŽ¥

Why 4: ä¸ºä»€ä¹ˆæœ‰æ…¢æŸ¥è¯¢ï¼Ÿ
â†’ ç¼ºå°‘ç´¢å¼•

Why 5: ä¸ºä»€ä¹ˆç¼ºå°‘ç´¢å¼•ï¼Ÿ
â†’ æ–°åŠŸèƒ½ä¸Šçº¿æœªè¯„å®¡ SQL

æ ¹å› ï¼šSQL å®¡æŸ¥æµç¨‹ç¼ºå¤±
```

---

## ç³»ç»ŸåŒ–æŽ’æŸ¥æµç¨‹

### æ­¥éª¤ 1: å¤çŽ°é—®é¢˜

**å†³ç­–ç‚¹**: é—®é¢˜å¯å¤çŽ°å—ï¼Ÿ

**å¯å¤çŽ°** â†’ è¿›å…¥è°ƒè¯•æµç¨‹
- è®°å½•å¤çŽ°æ­¥éª¤
- å‡†å¤‡æµ‹è¯•çŽ¯å¢ƒ
- éš”ç¦»å˜é‡

**ä¸å¯å¤çŽ°** â†’ æ¦‚çŽ‡æ€§é—®é¢˜
- æ”¶é›†æ›´å¤šæ¡ˆä¾‹
- å¯»æ‰¾å…±åŒç‰¹å¾ï¼ˆæ—¶é—´ã€ç”¨æˆ·ã€çŽ¯å¢ƒï¼‰
- å¢žåŠ æ—¥å¿—ç­‰å¾…å¤çŽ°

---

### æ­¥éª¤ 2: æ”¶ç¼©èŒƒå›´

**ç­–ç•¥**: äºŒåˆ†æ³•å®šä½

**æ—¶é—´ç»´åº¦**:
```
é—®é¢˜ä½•æ—¶å¼€å§‹ï¼Ÿ
â”œâ”€ æœ€è¿‘ä¸€æ¬¡éƒ¨ç½²åŽ â†’ æ£€æŸ¥å˜æ›´
â”œâ”€ ç‰¹å®šæ—¶é—´æ®µ â†’ æ£€æŸ¥å®šæ—¶ä»»åŠ¡/å¤–éƒ¨äº‹ä»¶
â””â”€ éšæœºå‘ç”Ÿ â†’ ç«žæ€æ¡ä»¶/èµ„æºé—®é¢˜
```

**ç©ºé—´ç»´åº¦**:
```
å½±å“å“ªäº›ç»„ä»¶ï¼Ÿ
â”œâ”€ å•ä¸ªæœåŠ¡ â†’ ä»£ç é€»è¾‘
â”œâ”€ å¤šä¸ªæœåŠ¡ â†’ ä¾èµ–/ç½‘ç»œ
â””â”€ å…¨éƒ¨æœåŠ¡ â†’ åŸºç¡€è®¾æ–½/æ•°æ®åº“
```

---

### æ­¥éª¤ 3: æå‡ºå‡è®¾

**åŸºäºŽæ”¶é›†çš„ä¿¡æ¯ï¼Œåˆ—å‡ºå¯èƒ½åŽŸå› **:

| å‡è®¾ | æ¦‚çŽ‡ | éªŒè¯æ–¹æ³• | éªŒè¯æ—¶é—´ |
|------|------|----------|----------|
| æ•°æ®åº“æ…¢æŸ¥è¯¢ | é«˜ | æŸ¥çœ‹æ…¢æŸ¥è¯¢æ—¥å¿— | 5min |
| ç¬¬ä¸‰æ–¹ API è¶…æ—¶ | ä¸­ | æ£€æŸ¥è°ƒç”¨ç›‘æŽ§ | 5min |
| å†…å­˜æ³„æ¼ | ä½Ž | æ£€æŸ¥å†…å­˜è¶‹åŠ¿ | 10min |

**ä¼˜å…ˆéªŒè¯**: é«˜æ¦‚çŽ‡ + å¿«é€ŸéªŒè¯

---

### æ­¥éª¤ 4: éªŒè¯å‡è®¾

**éªŒè¯æ–¹æ³•**:

1. **æ—¥å¿—åˆ†æž**
   - æœç´¢é”™è¯¯å…³é”®è¯
   - å¯¹æ¯”æ­£å¸¸/å¼‚å¸¸æ—¥å¿—
   - æ£€æŸ¥æ—¶é—´å…³è”

2. **ç›‘æŽ§æ•°æ®**
   - CPUã€å†…å­˜ã€ç£ç›˜ I/O
   - æ•°æ®åº“è¿žæŽ¥æ•°ã€æŸ¥è¯¢æ—¶é—´
   - è¯·æ±‚é‡ã€å“åº”æ—¶é—´

3. **å®žéªŒéªŒè¯**
   - æ¨¡æ‹Ÿé—®é¢˜åœºæ™¯
   - å•æ­¥è°ƒè¯•
   - æ·»åŠ æ—¥å¿—é‡æ–°è§‚å¯Ÿ

**å†³ç­–ç‚¹**: å‡è®¾è¢«è¯å®žï¼Ÿ
- âœ… æ˜¯ â†’ è¿›å…¥è§£å†³æ–¹æ¡ˆ
- âŒ å¦ â†’ ä¸‹ä¸€ä¸ªå‡è®¾

---

## å·¥å…·ç®±

### æ—¥å¿—åˆ†æž

**å¿«é€Ÿè¿‡æ»¤**:
```bash
# æŸ¥æ‰¾é”™è¯¯
grep -i "error\|exception\|failed" app.log | tail -100

# ç»Ÿè®¡é”™è¯¯ç±»åž‹
grep "ERROR" app.log | awk '{print $5}' | sort | uniq -c | sort -rn

# æ—¶é—´èŒƒå›´ç­›é€‰
awk '$1 >= "2026-01-21 10:00" && $1 <= "2026-01-21 11:00"' app.log
```

### ç³»ç»ŸçŠ¶æ€

**èµ„æºæ£€æŸ¥**:
```bash
# CPU/å†…å­˜
top -b -n 1

# ç£ç›˜
df -h
iostat

# ç½‘ç»œè¿žæŽ¥
netstat -ant | grep ESTABLISHED | wc -l
```

### æ•°æ®åº“

**æ…¢æŸ¥è¯¢**:
```sql
-- MySQL
SELECT * FROM mysql.slow_log ORDER BY query_time DESC LIMIT 10;

-- PostgreSQL
SELECT * FROM pg_stat_statements ORDER BY mean_time DESC LIMIT 10;
```

---

## å¸¸è§é—®é¢˜æ¨¡å¼

### æ¨¡å¼ 1: é—´æ­‡æ€§é—®é¢˜

**ç‰¹å¾**: æ—¶å¥½æ—¶å
**å¸¸è§åŽŸå› **:
- ç«žæ€æ¡ä»¶
- ç¼“å­˜å¤±æ•ˆ
- èµ„æºäº‰ç”¨
- åžƒåœ¾å›žæ”¶æš‚åœ

**æŽ’æŸ¥é‡ç‚¹**: æ—¶é—´å…³è”æ€§ã€å¹¶å‘åœºæ™¯

---

### æ¨¡å¼ 2: çªç„¶å‡ºçŽ°çš„é—®é¢˜

**ç‰¹å¾**: ä¹‹å‰æ­£å¸¸ï¼Œçªç„¶å¤±è´¥
**å¸¸è§åŽŸå› **:
- ä»£ç å˜æ›´
- é…ç½®å˜æ›´
- æ•°æ®å¢žé•¿
- å¤–éƒ¨ä¾èµ–å˜åŒ–

**æŽ’æŸ¥é‡ç‚¹**: è¿‘æœŸå˜æ›´è®°å½•

---

### æ¨¡å¼ 3: æ€§èƒ½é€æ¸åŠ£åŒ–

**ç‰¹å¾**: è¶Šæ¥è¶Šæ…¢
**å¸¸è§åŽŸå› **:
- æ•°æ®è†¨èƒ€
- å†…å­˜æ³„æ¼
- æ—¥å¿—æ–‡ä»¶å¢žå¤§
- ç¼“å­˜æœªæ¸…ç†

**æŽ’æŸ¥é‡ç‚¹**: èµ„æºä½¿ç”¨è¶‹åŠ¿

---

## å†³ç­–æ¸…å•

**åˆ†æžé—®é¢˜æ—¶**:
- [ ] æ”¶é›†äº†å……åˆ†ä¿¡æ¯
- [ ] å¯ä»¥å¤çŽ°é—®é¢˜
- [ ] æŽ’é™¤äº†æ˜Žæ˜¾åŽŸå› 
- [ ] åˆ—å‡ºäº†å‡è®¾æ¸…å•

**å®žæ–½ä¿®å¤å‰**:
- [ ] ç†è§£äº†æ ¹æœ¬åŽŸå› 
- [ ] éªŒè¯äº†ä¿®å¤æ–¹æ¡ˆ
- [ ] å‡†å¤‡äº†å›žæ»šæ–¹æ¡ˆ
- [ ] é€šçŸ¥äº†ç›¸å…³äººå‘˜

**ä¿®å¤åŽ**:
- [ ] éªŒè¯é—®é¢˜è§£å†³
- [ ] æ·»åŠ ç›‘æŽ§é˜²å¤å‘
- [ ] æ›´æ–°æ–‡æ¡£
- [ ] ç¼–å†™äº‹åŽæ€»ç»“

---

## äº‹åŽæ€»ç»“æ¨¡æ¿

```markdown
## æ•…éšœæŠ¥å‘Š

**æ—¶é—´**: 2026-01-21 10:00 - 11:30
**å½±å“**: 30% ç”¨æˆ·ç™»å½•å¤±è´¥
**ç­‰çº§**: P1ï¼ˆä¸¥é‡ï¼‰

### æ—¶é—´çº¿
- 10:00 ç›‘æŽ§æŠ¥è­¦
- 10:05 ç¡®è®¤é—®é¢˜ï¼Œå¼€å§‹æŽ’æŸ¥
- 10:15 å›žæ»šä»£ç ï¼ŒæœåŠ¡æ¢å¤
- 11:30 æ ¹å› åˆ†æžå®Œæˆ

### æ ¹æœ¬åŽŸå› 
æ•°æ®åº“æŸ¥è¯¢ç¼ºå°‘ç´¢å¼•ï¼Œå¯¼è‡´æ…¢æŸ¥è¯¢

### è§£å†³æ–¹æ¡ˆ
- ç«‹å³ï¼šå›žæ»šä»£ç 
- çŸ­æœŸï¼šæ·»åŠ ç´¢å¼•
- é•¿æœŸï¼šSQL å®¡æŸ¥æµç¨‹

### ç»éªŒæ•™è®­
- âœ… åšå¾—å¥½ï¼šå¿«é€Ÿå›žæ»šæ¢å¤æœåŠ¡
- âŒ éœ€æ”¹è¿›ï¼šéƒ¨ç½²å‰æœªæµ‹è¯•é«˜è´Ÿè½½åœºæ™¯
- ðŸ“ è¡ŒåŠ¨é¡¹ï¼š
  - [ ] æ·»åŠ  SQL å®¡æŸ¥å¡ç‚¹
  - [ ] å®Œå–„æ€§èƒ½æµ‹è¯•ç”¨ä¾‹
```

---

## å¸¸è§é™·é˜±

| é™·é˜± | åŽæžœ | åº”å¯¹ |
|------|------|------|
| è¿‡æ—©ä¸‹ç»“è®º | ä¿®é”™åœ°æ–¹ | éªŒè¯å‡è®¾å†è¡ŒåŠ¨ |
| åŒæ—¶æ”¹å¤šå¤„ | ä¸çŸ¥å“ªä¸ªæœ‰æ•ˆ | ä¸€æ¬¡æ”¹ä¸€å¤„ |
| å¿½è§†ç®€å•åŽŸå›  | æµªè´¹æ—¶é—´ | å…ˆæ£€æŸ¥å¸¸è§é—®é¢˜ |
| æ— è®°å½• | é‡å¤æŽ’æŸ¥ | è®°å½•æŽ’æŸ¥è¿‡ç¨‹ |

---

## åä½œæ²Ÿé€š

**æ±‡æŠ¥æ ¼å¼**:
```
ã€çŠ¶æ€ã€‘æ­£åœ¨æŽ’æŸ¥ä¸­
ã€å½±å“ã€‘çº¦ 30% ç”¨æˆ·
ã€è¿›å±•ã€‘å·²å®šä½åˆ°æ•°æ®åº“å±‚ï¼Œæ­£åœ¨éªŒè¯å‡è®¾
ã€é¢„è®¡ã€‘30 åˆ†é’Ÿå†…ç»™å‡ºç»“è®º
```

**æ›´æ–°é¢‘çŽ‡**:
- P0ï¼ˆå…¨ç«™æ•…éšœï¼‰: æ¯ 10 åˆ†é’Ÿ
- P1ï¼ˆä¸¥é‡ï¼‰: æ¯ 30 åˆ†é’Ÿ
- P2ï¼ˆä¸€èˆ¬ï¼‰: æ¯ 2 å°æ—¶

---
id: 1201
title: API æ–‡æ¡£æœ€ä½³å®è·µ
description: API æ–‡æ¡£ç¼–å†™ã€ç»´æŠ¤å’Œå‘å¸ƒçš„æœ€ä½³å®è·µ
globs: ["**/docs/**/*.md", "**/README.md", "**/*.openapi.yml", "**/swagger.json"]
priority: medium
tags: [documentation, api-docs, openapi, swagger, markdown, readme]
version: 1.0.0
author: Turbo AI Rules
lastUpdated: 2025-11-20
---

# API æ–‡æ¡£æœ€ä½³å®è·µ

## é€‚ç”¨åœºæ™¯

- API æ–‡æ¡£ç¼–å†™
- OpenAPI/Swagger è§„èŒƒ
- README æ–‡æ¡£
- å¼€å‘è€…æ–‡æ¡£

## å…³é”®åŸåˆ™

- âœ… æ–‡æ¡£å³ä»£ç 
- âœ… æä¾›å¤šè¯­è¨€ç¤ºä¾‹
- âœ… äº¤äº’å¼æ–‡æ¡£
- âœ… ç‰ˆæœ¬åŒ–æ–‡æ¡£

## OpenAPI è§„èŒƒå…³é”®ç‚¹

**å¿…é¡»åŒ…å«çš„å…ƒç´ ï¼š**

```yaml
openapi: 3.0.0
info:
  title: API Title
  version: 1.0.0
  contact: # æ”¯æŒè”ç³»æ–¹å¼
    email: api@example.com

servers: # å¤šç¯å¢ƒæ”¯æŒ
  - url: https://api.example.com/v1
  - url: http://localhost:3000/v1

tags: # API åˆ†ç»„
  - name: Users
  - name: Authentication

paths:
  /users:
    get:
      operationId: listUsers # å¿…é¡»å”¯ä¸€
      tags: [Users]
      parameters: # æŸ¥è¯¢å‚æ•°éªŒè¯
        - name: limit
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 20
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UserList"
              examples: # æä¾›ç¤ºä¾‹æ•°æ®
                success:
                  value: { data: [...], pagination: { ... } }
      security:
        - bearerAuth: [] # è®¤è¯è¦æ±‚

components:
  schemas: # å¯å¤ç”¨çš„ Schema
    User:
      required: [id, email]
      properties:
        id: { type: string }
        email: { type: string, format: email }

  responses: # å¯å¤ç”¨çš„å“åº”
    BadRequest:
      description: Bad request
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/Error"

  securitySchemes: # è®¤è¯æ–¹å¼
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
```

## README ç»“æ„è¦ç‚¹

```markdown
# é¡¹ç›®åç§°

> ä¸€å¥è¯æè¿°

## ç‰¹æ€§ï¼ˆç”¨è¡¨æƒ…ç¬¦å·æ ‡è®°ï¼‰

- ğŸš€ æ ¸å¿ƒç‰¹æ€§ 1
- ğŸ“¦ æ ¸å¿ƒç‰¹æ€§ 2

## å¿«é€Ÿå¼€å§‹ï¼ˆ3 æ­¥ä»¥å†…ï¼‰

## API å‚æ•°è¡¨æ ¼ï¼ˆå¿…å¡«/é€‰å¡«/é»˜è®¤å€¼ï¼‰

| åç§° | ç±»å‹   | å¿…å¡« | é»˜è®¤å€¼ | æè¿° |
| ---- | ------ | ---- | ------ | ---- |
| port | number | å¦   | 3000   | ç«¯å£ |

## å¼€å‘å‘½ä»¤ï¼ˆæ ‡å‡†åŒ–ï¼‰

## è´¡çŒ®æŒ‡å—é“¾æ¥
```

## ä»£ç ç¤ºä¾‹å…³é”®ç‚¹

**å¿…é¡»æä¾› cURL å’Œä¸»æµè¯­è¨€ç¤ºä¾‹ï¼š**

```bash
# cURLï¼ˆåŸºå‡†ç¤ºä¾‹ï¼‰
curl -X POST https://api.example.com/users \
  -H "Authorization: Bearer TOKEN" \
  -d '{"name":"John"}'
```

```javascript
// JavaScript/TypeScriptï¼ˆç°ä»£è¯­æ³•ï¼‰
const res = await fetch(url, {
  method: "POST",
  headers: { Authorization: `Bearer ${token}` },
  body: JSON.stringify(data),
});
```

```python
# Pythonï¼ˆrequests åº“ï¼‰
requests.post(url, headers={...}, json=data)
```

## é”™è¯¯æ–‡æ¡£å…³é”®ç‚¹

**æ ‡å‡†åŒ–é”™è¯¯å“åº”æ ¼å¼ï¼š**

```json
{
  "error": {
    "code": "VALIDATION_ERROR", // æœºå™¨å¯è¯»
    "message": "Invalid input", // äººç±»å¯è¯»
    "details": { "field": "email", "issue": "..." }, // è¯¦ç»†ä¿¡æ¯
    "requestId": "req_abc123" // è¿½è¸ª ID
  }
}
```

**é”™è¯¯ç è¡¨æ ¼ï¼ˆå¿…é¡»åŒ…å«è§£å†³æ–¹æ¡ˆï¼‰ï¼š**

| é”™è¯¯ç               | HTTP | æè¿°         | è§£å†³æ–¹æ¡ˆ           |
| ------------------- | ---- | ------------ | ------------------ |
| AUTH_REQUIRED       | 401  | ç¼ºå°‘è®¤è¯ä»¤ç‰Œ | æ·»åŠ  Authorization |
| VALIDATION_ERROR    | 400  | éªŒè¯å¤±è´¥     | æŸ¥çœ‹ details å­—æ®µ  |
| RATE_LIMIT_EXCEEDED | 429  | é¢‘ç‡è¶…é™     | é™ä½è¯·æ±‚é¢‘ç‡       |

## æ–‡æ¡£ç”Ÿæˆå·¥å…·é…ç½®

**Redocï¼ˆæ¨èç”¨äºç¾è§‚çš„æ–‡æ¡£ï¼‰ï¼š**

```html
<redoc spec-url="./openapi.yml"></redoc>
<script src="https://cdn.redoc.ly/redoc/latest/bundles/redoc.standalone.js"></script>
```

**Swagger UIï¼ˆæ¨èç”¨äºäº¤äº’å¼æµ‹è¯•ï¼‰ï¼š**

```yaml
# docker-compose.yml
services:
  swagger-ui:
    image: swaggerapi/swagger-ui
    environment:
      SWAGGER_JSON: /openapi/openapi.yml
    volumes:
      - ./docs:/openapi
```

**Docusaurusï¼ˆæ¨èç”¨äºå®Œæ•´æ–‡æ¡£ç«™ç‚¹ï¼‰ï¼š**

```bash
npx create-docusaurus@latest my-docs classic

# ç›®å½•ç»“æ„
docs/
â”œâ”€â”€ api/              # API å‚è€ƒ
â”œâ”€â”€ guides/           # ä½¿ç”¨æŒ‡å—
â””â”€â”€ reference/        # é”™è¯¯ç ç­‰å‚è€ƒ
```

## ç‰ˆæœ¬åŒ–æ–‡æ¡£ç­–ç•¥

**ç›®å½•ç»“æ„ï¼š**

```
/docs/v1/           # æ—§ç‰ˆæœ¬
/docs/v2/           # å½“å‰ç‰ˆæœ¬
/docs/latest/       # é“¾æ¥åˆ°æœ€æ–°ç¨³å®šç‰ˆ
```

**è¿ç§»æŒ‡å—å¿…å¤‡å†…å®¹ï¼š**

- é‡å¤§å˜æ›´æ¸…å•
- æ–°æ—§ API å¯¹æ¯”
- è¿ç§»æ­¥éª¤æ¸…å•
- å¼ƒç”¨æ—¶é—´è¡¨

## äº¤äº’å¼æ–‡æ¡£

**Postman Collection å¯¼å‡ºï¼š**

- å˜é‡åŒ–é…ç½®ï¼ˆbaseUrl, tokenï¼‰
- æ¯ä¸ªç«¯ç‚¹æä¾›ç¤ºä¾‹
- è®¾ç½®è®¤è¯æ–¹å¼
- æä¾›ç¯å¢ƒé…ç½®

## é¡¹ç›®ç‰¹å®šé…ç½®

**devDependenciesï¼ˆé€‰æ‹©å·¥å…·ï¼‰ï¼š**

```json
{
  "@redocly/cli": "^1.0.0", // OpenAPI æ ¡éªŒå’Œæ‰“åŒ…
  "swagger-ui-express": "^5.0.0", // Node.js é›†æˆ
  "docusaurus": "^3.0.0", // æ–‡æ¡£ç«™ç‚¹
  "@stoplight/elements": "^7.0.0" // åµŒå…¥å¼æ–‡æ¡£
}
```

**CI/CD é›†æˆï¼š**

- OpenAPI æ ¡éªŒ
- æ–‡æ¡£è‡ªåŠ¨éƒ¨ç½²
- ç¤ºä¾‹ä»£ç è‡ªåŠ¨æµ‹è¯•

## æ‰©å±•é˜…è¯»

- [OpenAPI Specification](https://swagger.io/specification/)
- [Redoc Documentation](https://redocly.com/docs/redoc/)
- [API Design Guidelines](https://github.com/microsoft/api-guidelines)
